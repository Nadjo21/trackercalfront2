<!--formulaire pour saisir le détail de mes repas -->


<Section id="journalalimentaire">
  <!--  <form [formGroup]="foodDiaryForm" (ngSubmit)="foodDiarySave()">-->
  <form [formGroup]="foodDiaryForm">
    <label for="diary-date">Date: </label>
    <input type="date" id="diary-date" formControlName="date">

    <label for="food-select">Aliment : </label>
    <select formControlName="name" (change)="changeFood($event)" >
      <option value="selectedfood">Selectionner un aliment</option>
      <option *ngFor="let food of foodList | async" [value]="food.name">{{food.id}}---{{food.name}} </option>
    </select>

    <label for="food-quantity">Quantité :</label>
    <input type="number" id="diary-quantity" formControlName="quantity">


    <label for="food-cal">Calories : </label>
    <select formControlName="calories">
      <option value="selectedcal">---</option>
      <option *ngFor="let food of foodList | async" [value]="food.calories">{{food.calories}} </option>
    </select>



    <label for="type-select">Unité : </label>
    <select id="type-select">
      <option value="defaultchoice2">gr</option>
      <option value="defaultchoice2">cl</option>
    </select>

    <button (click)="addfoodline()">Ajouter</button>

  </form>
</Section>
<Section *ngIf="foodintake">
<!--<Section *ngFor="let food of foodintake.foodList>-->
  <table>
    <thead>
    <tr>
      <th>Date:</th>
      <th>Aliment consommé:</th>
      <th>ID de l'aliment:</th>
      <th>Quantité:</th>
      <th>Calories:</th>
      <th>Total :</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td>{{foodintake.date | date : 'ddMMyyyy' }} </td>
      <td>{{foodintake.name}}</td>
      <td>{{foodintake.name}}</td>
      <td>{{foodintake.quantity}}</td>
      <td>{{foodintake.calories}}</td>
      <td>{{subtotal}}</td>
    </tr>

    </tbody>
  </table>
  <button (click)="foodDiarySave()">Sauvegarder</button>
</Section>



