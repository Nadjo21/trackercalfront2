<!--formulaire pour saisir le détail de mes repas -->

<Section id="journalalimentaire">
  <form [formGroup]="foodDiaryForm" (ngSubmit)="addfoodline()">
    <div>
      <button type="button" (click)="addDay(-1)" class="btn btn-primary btn-sm">Précédent</button>
      <label for="diary-date">Date: </label>
      <input type="date" id="diary-date" formControlName="date" (change)="changeDate($event)">
      <button type="button" (click)="addDay(+1)" class="btn btn-primary btn-sm">Suivant</button>
    </div>

    <label for="food-select">Aliment : </label>
    <select formControlName="fooddetail" (change)="changeFood($event)">
      <option value="selectedfood">Selectionner un aliment</option>
      <option *ngFor="let food of foodList | async" [ngValue]="food">{{food.id}}---{{food.name}} </option>
    </select>

    <label for="food-quantity">Quantité :</label>
    <input type="number" id="diary-quantity" formControlName="quantity">
    <button type="submit" class="btn btn-success btn-sm">Ajouter</button>
  </form>
</Section>

<Section>
  <table class="w-50" id="tableValue">
    <thead>
    <tr>
      <th>Date:</th>
      <th>Aliment consommé:</th>
      <th>Quantité:</th>
      <th>Calories:</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let selectedFood of selectedFoodList ">
      <td>{{selectedFood.date |date : 'dd/MM/yyyy' }}  </td>
      <td>{{selectedFood.food.name}}</td>
      <td>{{selectedFood.quantity}}</td>
      <td>{{(selectedFood.food.calories) * (selectedFood.quantity)}}</td>
    </tr>
    <td></td>
    <td></td>
    <td>Total :</td>
    <td>{{totalCalories}}</td>
    </tbody>
  </table>


  <div *ngIf="emptyFoodintakeList" id="emptylistalert">
    <h6>"Pas de repas enregistré pour cette journée !"</h6>
  </div>

  <button (click)="foodDiarySave()" class="btn btn-primary btn-sm">Sauvegarder</button>
</Section>


