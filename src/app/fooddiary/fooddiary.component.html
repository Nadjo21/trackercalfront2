<!--formulaire pour saisir le détail de mes repas -->


<Section id="journalalimentaire">
   <form [formGroup]="foodDiaryForm" (ngSubmit)="addfoodline()" >
    <label for="diary-date">Date: </label>
    <input type="date" id="diary-date" formControlName="date">

    <label for="food-select">Aliment : </label>
    <select formControlName="fooddetail" (change)="changeFood($event)" >
      <option value="selectedfood">Selectionner un aliment</option>
      <option *ngFor="let food of foodList | async" [ngValue]="food">{{food.id}}---{{food.name}} </option>
    </select>

    <label for="food-quantity">Quantité :</label>
    <input type="number" id="diary-quantity" formControlName="quantity">


    <button type="submit">Ajouter</button>
  </form>
</Section>

<Section >

  <table>
    <thead>
    <tr>
      <th>Date:</th>
       <th>Aliment consommé:</th>
      <th>Quantité:</th>
      <th>Calories:</th>

    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let selectedFood of selectedFoodList">
      <td>{{selectedFood.date  }} </td>
      <td>{{selectedFood.food.name}}</td>
      <td>{{selectedFood.quantity}}</td>
      <td>{{ (selectedFood.food.calories) * (selectedFood.quantity)}}</td>
    </tr>

    </tbody>
  </table>

  <button (click) ="foodDiarySave()">Sauvegarder</button>

</Section>



